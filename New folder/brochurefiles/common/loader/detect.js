!function(e){function t(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.6.0")}catch(e){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return alert("This browser is not AJAX enabled."),null}}}function i(){"use strict";this.initialBody=e.document.body.innerHTML,this.initialBodyClass=e.document.body.getAttribute("class"),e.document.body.innerHTML="",e.document.body.setAttribute("class",""),this.isMobile=!1,this.isFlash=!1,this.isBasic=!1,this.ua=navigator.userAgent.toLowerCase();var t="undefined",i="object",o="Shockwave Flash",s="ShockwaveFlash.ShockwaveFlash",r="application/x-shockwave-flash",c=[0,0,0],l=navigator.platform.toLowerCase();this.ua.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0];if(typeof navigator.plugins!==t&&typeof navigator.plugins[o]===i){var p=navigator.plugins[o].description;if(p&&(typeof navigator.mimeTypes==t||!navigator.mimeTypes[r]||navigator.mimeTypes[r].enabledPlugin)){var d=!1;p=p.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),c[0]=parseInt(p.replace(/^(.*)\..*$/,"$1"),10),c[1]=parseInt(p.replace(/^.*\.(.*)\s.*$/,"$1"),10),c[2]=/[a-zA-Z]/.test(p)?parseInt(p.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else if(typeof window.ActiveXObject!==t)try{var h=new ActiveXObject(s);h&&(p=h.GetVariable("$version"),p&&(d=!0,p=p.split(" ")[1].split(","),c=[parseInt(p[0],10),parseInt(p[1],10),parseInt(p[2],10)]))}catch(u){}switch(0===c[0]&&0===c[1]&&0===c[2]?this.flash=!1:this.flash=!0,this.device={},this.device.name=this.ua.match(/ipad/)?"ipad":this.ua.match(/ipad/)?"ipad":this.ua.match(/iphone/)?"iphone":this.ua.match(/android/)?"android":l.match(/mac|win|linux/)?"pc":"other",this.device[this.device.name]=!0,this.device.version=this.platform.version[0],this.device.type=this.ua.match(/(mobile\ssafari)|iphone|ipod/)?"mobile":"tablet",n.v){case"basic":this.isBasic=!0;break;case"mobile":this.isMobile=!0;break;case"flash":this.isFlash=!0}var f=this.platform.ios&&a()===-1,m=a()===-1&&this.platform.android&&(parseInt(this.platform.version[0],10)>4||4===parseInt(this.platform.version[0],10)&&parseInt(this.platform.version[1],10)>=1),v=f&&this.browser.safari&&a()===-1,y=m&&this.browser.chrome&&a()===-1;this.isBasic||this.isMobile||this.isFlash||((f||m)&&"undefined"==typeof e.COMPATIBLE?this.isMobile=!0:v||y?this.isMobile=!0:this.flash&&this.device.pc&&(c[0]>10||10===c[0]&&c[1]>=3)?this.isFlash=!0:this.isBasic=!0),this._loadVersion()}function a(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(t)&&(e=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){var t=navigator.userAgent,i=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=i.exec(t)&&(e=parseFloat(RegExp.$1))}return e}var o=function(e){e=e||{};var i=e.type||"GET",a=e.url,o=e.data,n=t();try{n.open(i,a,!0),n.onreadystatechange=function(){var t=!1,i=n.responseText;if("json"===e.dataType)try{i=JSON.parse(i)}catch(a){t=!0}!t&&n.status>=200&&n.status<300?e.success&&e.success(i,n.statusText,n):e.error&&e.error(n)},n.onerror=n.onabort=function(){e.error&&e.error(n)},n.send(o)}catch(s){e.error&&e.error(n)}return n},n=function(){var e={},t=window.location.search.substring(1);if(""===t)return e;for(var i=t.split("&"),a=0;a<i.length;a++)if(""!==i[a]){var o=i[a].split("=");if("undefined"==typeof e[o[0]])e[o[0]]=o[1];else if("string"==typeof e[o[0]]){var n=[e[o[0]],o[1]];e[o[0]]=n}else e[o[0]].push(o[1])}return e}();i.prototype=new detectBrowser,i.prototype.isNaN=function(e){return this.isNumber(e)&&e!=+e},i.prototype.isNumber=function(e){return"[object Number]"==Object.prototype.toString.call(e)},i.prototype._getHash=function(){var t=e.location.href.match(/#(.*)$/);return t?t[1]:""},i.prototype._loadVersion=function(){var t=this._getHash(),i=/[^A-Za-z0-9\(\)\[\]@.,$â‚¬;`~! _-]/g,a=t.split("/"),s=decodeURIComponent(n.p||n.page||a[0]||e.BASIC_FIRST_PAGE);s.match(i)&&(s=e.BASIC_FIRST_PAGE);var r=function(e){return"z"==e||"zoomed"==e},c=n.z||n.zoomed||a.length>1&&r(a[1]),l=decodeURIComponent(n.id||(a.length>2?a[2]:a.length>1&&!r(a[1])?a[1]:""));if(""!==l&&l.match(i)&&(l=""),this.isBasic){if("undefined"!=typeof e.BASIC_DISABLED&&e.BASIC_DISABLED)e.document.body.innerHTML=this.initialBody,e.document.body.setAttribute("class",this.initialBodyClass);else if("undefined"!=typeof e.BASIC_URL){var p=e.BASIC_URL;if(s!=e.BASIC_FIRST_PAGE)var p=e.BASIC_URL.replace("page-"+e.BASIC_FIRST_PAGE,"page-"+s);"basic"===n.v&&(p+="?v=basic"),o({type:"OPTIONS",url:p,success:function(t,i,a){e.location=p},error:function(t){e.location=e.BASIC_URL}})}}else{if(this.isMobile&&"undefined"!=typeof e.MOBILE_DISABLED)return e.document.body.innerHTML='<p style="width: 100%; position: absolute; text-align: center; top: 49%; color: #888">Unfortunately, no mobile version is available for this publication.</p>',void e.document.body.setAttribute("class",this.initialBodyClass);delete n.p,delete n.page,delete n.z,delete n.zoomed,delete n.id;var t="";s&&(t="#"+encodeURIComponent(s),c&&(t+="/z"),l&&(t+="/"+encodeURIComponent(l)),"undefined"!=typeof e.BASIC_FIRST_PAGE&&t=="#"+e.BASIC_FIRST_PAGE&&(t=""));var d="";for(var h in n)d+=h+"="+n[h]+"&";""!==d&&(d="?"+d,"&"===d.slice(-1)&&(d=d.slice(0,-1))),(""!==window.location.search&&d!==window.location.search||""!==t)&&window.location.replace(e.location.protocol+"//"+e.location.host+e.location.pathname+d+t);var u=document.createElement("script");u.type="text/javascript",u.charset="utf-8",u.async=!1,u.src=this.isFlash?e.STATIC_FOLDER+"/common/loader/flash-init.js":this.isMobile?e.STATIC_FOLDER+"/common/loader/mobile-init.js":"";var f="undefined"!=typeof e.document.head?e.document.head:e.document.getElementsByTagName("head")[0];f.appendChild(u)}},e.detector=new i;var s=function(t,i){if("undefined"!=typeof e.unorm)i.call(i,unorm.nfc(t));else{var a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!1,a.addEventListener("load",function(){i.call(i,unorm.nfc(t))}),a.src=e.STATIC_FOLDER+"/common/loader/nfc.js";var o="undefined"!=typeof e.document.head?e.document.head:e.document.getElementsByTagName("head")[0];o.appendChild(a)}};e.searchNormalize=s}(this);