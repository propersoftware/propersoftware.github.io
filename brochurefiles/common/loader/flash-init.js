!function(global){"use strict";function a(a,b){var c=document.createElement("script");c.type="text/javascript",c.charset="UTF-8",c.async=!1,c.src=a;var e=function(a,b){"loaded"==a.readyState||"complete"==a.readyState?b():setTimeout(function(){e(a,b)},100)};"function"==typeof b&&("undefined"!=typeof c.addEventListener?c.addEventListener("load",b,!1):c.onreadystatechange=function(){c.onreadystatechange=null,e(c,b)}),d.appendChild(c)}function b(){function b(){var a={},b=window.location.href;if(b.indexOf("?")>-1)for(var c=b.substr(b.indexOf("?")),d=c.split("&"),e=0;e<d.length;e++){var f=d[e].split("=");a[f[0]]=f[1]}return a}function d(a){a.success?("undefined"!=typeof global.initAnalytics&&global.initAnalytics("Flash"),new CheckFlash({onShow:function(){global.document.getElementById("content").style.top=this.box.clientHeight+(parseInt(this.box.style.marginTop)||0)+(parseInt(this.box.style.marginBottom)||0)+(parseInt(this.box.style.borderTopWidth)||0)+(parseInt(this.box.style.borderBottomWidth)||0)+"px"},onClose:function(){this.box.style.display="none",global.document.getElementById("content").style.top="0px"}})):(global.document.getElementById("flash-notification")&&(global.document.getElementById("flash-notification").style.display="none"),global.detector.isBasic=!0,global.detector.isFlash=!1,global.detector._loadVersion())}global.needMouseWheel=!1;var f=global.detector.platform.mac===!0,g=global.detector.browser.safari===!0,h=global.detector.browser.chrome===!0,i=global.detector.browser.firefox===!0,j=global.detector.browser.ie===!0,k=global.detector.browser.msedge===!0,l=global.detector.browser.version;(k||f&&(g||h||i))&&a(global.STATIC_FOLDER+"/flash/wheel.js");var m=global.STATIC_FOLDER+"/flash/";global.getURL=function(a,b){var c=document.createElement("a");c.href=a,c.target=b,document.body.appendChild(c),c.click()};var n=document.createElement("div");n.setAttribute("id","container");var o=document.createElement("div");o.setAttribute("id","content"),o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.right="0px",o.style.bottom="0px",o.style.height="100%",o.style.width="100%",n.appendChild(o);var p=document.createElement("div");p.setAttribute("id",e),o.appendChild(p),c.appendChild(n),c.setAttribute("class","bodyStyle");var q="preloader.swf?rnd="+global.PROJECT_GUID,r=b();"undefined"==typeof r.assets&&(r.assets=global.ASSETS_FOLDER),"undefined"==typeof r.swfURL&&(r.swfURL=m+"flippingbook.swf");var s={allowFullScreen:!0,allowScriptAccess:"always",quality:"high",scale:"noscale",bgcolor:global.BG_COLOR,allowFullScreenInteractive:!0};(i||j&&l>=11)&&1==global.HAS_YOUTUBE_VIDEO&&(s.wmode="opaque",a(global.STATIC_FOLDER+"/flash/youtube.js"),j&&l<11||a(global.STATIC_FOLDER+"/flash/fullscreen.js")),j&&l>=11&&1==global.HAS_VIMEO_VIDEO&&(s.wmode="opaque",a(global.STATIC_FOLDER+"/flash/vimeo.js"));var t={align:"middle"};swfobject.embedSWF(m+q,e,"100%","100%","10.3.0",m+"expressInstall.swf",r,s,t,d)}var c=global.document.body,d="undefined"!=typeof global.document.head?global.document.head:global.document.getElementsByTagName("head")[0];c.innerHTML="";var e="book-container";global.getFlashMovie=function(){if(global.document[e])return global.document[e];var a=navigator.appName.indexOf("Microsoft")!=-1;return a?global[e]:global.document.getElementById(e)},a(global.STATIC_FOLDER+"/flash/checkflash.js",function(){a(global.STATIC_FOLDER+"/flash/swfobject.js",function(){"undefined"!=typeof global.SHOP_ID?a(global.ASSETS_FOLDER+"/common/ecommerce/cart.js",function(){a(global.STATIC_FOLDER+"/flash/flash-cart.js",function(){a(global.ASSETS_FOLDER+"/common/ecommerce/products.js",function(){b()})})}):b()})})}(this);